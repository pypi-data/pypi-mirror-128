{"version":3,"file":"index.js","mappings":";;;;;;;;;AAAA;AACA,kCAAkC,mBAAO,CAAC,qGAAgD;AAC1F;AACA;AACA,4CAA4C,uBAAuB,cAAc,aAAa,uBAAuB,sBAAsB,sCAAsC,GAAG,wBAAwB,iBAAiB,6BAA6B,GAAG,yBAAyB,eAAe,6BAA6B,yBAAyB,wBAAwB,GAAG,0BAA0B,4BAA4B,GAAG,+BAA+B,iBAAiB,GAAG,8BAA8B,iBAAiB,GAAG,uCAAuC,+BAA+B,wBAAwB,gCAAgC,GAAG,6BAA6B,kBAAkB,GAAG,4EAA4E,sBAAsB,GAAG;AAC5yB;AACA;;;;;;;;;;;;;;;;ACNA,iEAAe,0EAA0E,8BAA8B,4EAA4E,gEAAgE,mBAAmB,2BAA2B,wCAAwC,kDAAkD,yCAAyC,mCAAmC,sCAAsC,SAAS,QAAQ,KAAK,eAAe,4DAA4D,4CAA4C,8EAA8E,EAAE,KAAK,GAAG,8DAA8D,mBAAmB,yDAAyD,uDAAuD,OAAO,2BAA2B,sCAAsC,oCAAoC,kDAAkD,2CAA2C,qCAAqC,wCAAwC,WAAW,SAAS,QAAQ,KAAK,eAAe,wDAAwD,2CAA2C,KAAK,GAAG,iCAAiC,qCAAqC,iDAAiD,gBAAgB,GAAG,kCAAkC,uDAAuD,gEAAgE,MAAM,MAAM,kEAAkE,KAAK,IAAI,uCAAuC,eAAe,2CAA2C,sBAAsB,2OAA2O,8CAA8C,aAAa,8BAA8B,iCAAiC,8BAA8B,YAAY,4BAA4B,sCAAsC,WAAW,wDAAwD,UAAU,WAAW,iEAAiE,+BAA+B,SAAS,OAAO,yCAAyC,0FAA0F,oBAAoB,KAAK,qBAAqB,mDAAmD,KAAK,GAAG,qJAAqJ,yEAAyE,qDAAqD,yCAAyC,2EAA2E,gDAAgD,6CAA6C,sCAAsC,mFAAmF,2CAA2C,QAAQ,MAAM,iFAAiF,sDAAsD,+CAA+C,+CAA+C,YAAY,MAAM,sCAAsC,WAAW,SAAS,OAAO,+LAA+L,8BAA8B,uDAAuD,qCAAqC,aAAa,EAAE,0BAA0B,WAAW,UAAU,MAAM,eAAe,oIAAoI,uEAAuE,mEAAmE,wCAAwC,sDAAsD,+DAA+D,uDAAuD,aAAa,mDAAmD,WAAW,EAAE,SAAS,iDAAiD,kCAAkC,SAAS,EAAE,yCAAyC,+CAA+C,eAAe,kEAAkE,8CAA8C,YAAY,WAAW,+DAA+D,iHAAiH,6BAA6B,+GAA+G,MAAM,sBAAsB,aAAa,WAAW,SAAS,OAAO,KAAK,EAAE,6FAA6F,eAAe,OAAO,gBAAgB,IAAI,GAAG;;;;;;;;;;;ACA56K;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAsB,iBAAiB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B;;AAE/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;;;;;;;;;;AC7FA,UAAU,mBAAO,CAAC,oJAAwE;AAC1F,0BAA0B,mBAAO,CAAC,qHAAuD;;AAEzF;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;AAIA;;;;;;;;;;;AClBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,wDAAwD;;AAExD;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AAC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","sources":["webpack://observable-jupyter-widget/./css/widget.css","webpack://observable-jupyter-widget/./src/iframe_code.js","webpack://observable-jupyter-widget/./node_modules/css-loader/dist/runtime/api.js","webpack://observable-jupyter-widget/./css/widget.css?2598","webpack://observable-jupyter-widget/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://observable-jupyter-widget/./src/extension.ts","webpack://observable-jupyter-widget/./src/index.ts","webpack://observable-jupyter-widget/./src/observable_logo.ts","webpack://observable-jupyter-widget/./src/version.ts","webpack://observable-jupyter-widget/./src/widget.ts","webpack://observable-jupyter-widget/./src/wrapper_code.ts","webpack://observable-jupyter-widget/external amd \"@jupyter-widgets/base\"","webpack://observable-jupyter-widget/webpack/bootstrap","webpack://observable-jupyter-widget/webpack/runtime/define property getters","webpack://observable-jupyter-widget/webpack/runtime/hasOwnProperty shorthand","webpack://observable-jupyter-widget/webpack/runtime/make namespace object","webpack://observable-jupyter-widget/webpack/before-startup","webpack://observable-jupyter-widget/webpack/startup","webpack://observable-jupyter-widget/webpack/after-startup"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".observable-logo {\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  margin-bottom: 5px;\\n  margin-right: 1px;\\n  transition: background-color 0.2s;\\n}\\n.observable-logo svg {\\n  opacity: 0.5;\\n  transition: opacity 0.2s;\\n}\\n.observable-logo span {\\n  opacity: 0;\\n  transition: opacity 0.2s;\\n  padding-right: 0.2em;\\n  padding-left: 0.2em;\\n}\\n.observable-logo:hover {\\n  background-color: white;\\n}\\n.observable-logo:hover span {\\n  opacity: 0.8;\\n}\\n.observable-logo:hover svg {\\n  opacity: 0.8;\\n}\\n/*\\n.observable-link:hover ~ iframe {\\n  outline: solid 1px #e0e0e0;\\n  box-shadow: 0 0 3px;\\n  transition: box-shadow 0.2s;\\n}\\n.observable-link ~ iframe {\\n  outline: none;\\n}\\n*/\\n/* Colab-only rule - untested */\\nbody > .output-area > .output-body {\\n  margin-right: 2px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"// This code is injected into the iframe via a .srcdoc property\\nimport {\\n  Runtime,\\n  Inspector,\\n} from 'https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js';\\n\\nexport class DocumentBodyDimensionsMutationObserverMonitor {\\n  constructor() {\\n    this.lastHeight = -1;\\n\\n    this.onMutation = (entries) => {\\n      const height = document.body.clientHeight;\\n      if (height !== this.lastHeight) {\\n        this.lastHeight = height;\\n        postHeight(this.lastHeight);\\n      }\\n    };\\n  }\\n\\n  start() {\\n    this.observer = new MutationObserver(this.onMutation);\\n    this.observer.observe(document.body, {\\n      childList: true,\\n      attributes: true,\\n      subtree: true,\\n    });\\n  }\\n}\\n\\nexport class DocumentBodyDimensionsResizeObserverMonitor {\\n  constructor() {\\n    if (typeof window.ResizeObserver === 'undefined') {\\n      throw Error('ResizeObserver is not supported');\\n    }\\n    this.lastHeight = -1;\\n\\n    this.onResize = (entries) => {\\n      for (let entry of entries) {\\n        const height = entry.contentRect.height;\\n        if (height !== this.lastHeight) {\\n          this.lastHeight = height;\\n          postHeight(this.lastHeight);\\n        }\\n      }\\n    };\\n  }\\n\\n  start() {\\n    this.observer = new ResizeObserver(this.onResize);\\n    this.observer.observe(document.body);\\n  }\\n}\\n\\nfunction postHeight(height) {\\n  window.parent.postMessage(\\n    {\\n      type: 'iframeSize',\\n      height,\\n    },\\n    '*'\\n  );\\n}\\n\\nexport const monitor = () => {\\n  if (typeof window.ResizeObserver !== 'undefined') {\\n    new DocumentBodyDimensionsResizeObserverMonitor().start();\\n  } else {\\n    new DocumentBodyDimensionsMutationObserverMonitor().start();\\n  }\\n};\\n\\nclass JupyterWidgetOutputObserver {\\n  pending() {\\n    // could gray something out here\\n  }\\n  fulfilled(value) {\\n    // postMessage does a \\\"structured clone\\\" which fails for DOM elements, functions, and more\\n    // so let's jsonify\\n    // We will probably wastefully jsonify again on the other side of the postMessage\\n    const cleaned = {};\\n    for (const name of Object.keys(value)) {\\n      try {\\n        let v = value[name];\\n        if (v instanceof Set) {\\n          v = Array.from(v);\\n        } else if (v instanceof Map) {\\n          v = Object.fromEntries(v);\\n        }\\n        cleaned[name] = JSON.parse(JSON.stringify(v));\\n      } catch (e) {\\n        console.log('error JSONifying value of cell', name, v);\\n        cleaned[name] = null;\\n      }\\n    }\\n    window.parent.postMessage(\\n      {\\n        type: 'outputs',\\n        outputs: JSON.parse(JSON.stringify(cleaned)),\\n      },\\n      '*'\\n    );\\n  }\\n  rejected(error) {\\n    console.error('all values rejected:', error);\\n  }\\n}\\n\\n// (slug: string, into: string | HTMLElement, cells?: string[], outputs?: string[])\\nexport const embed = async (slug, into, cells, outputs) => {\\n  const moduleUrl = 'https://api.observablehq.com/' + slug + '.js?v=3';\\n  const define = (await import(moduleUrl)).default;\\n  const inspect = Inspector.into(into);\\n  const filter = cells ? (name) => cells.includes(name) : (name) => true;\\n\\n  const newDefine = (runtime, observer) => {\\n    const main = define(runtime, observer);\\n    let outputVariables = new Set();\\n    // TODO allow a subset of these to be manually specified?\\n    if (outputs) {\\n      outputVariables = new Set(outputs);\\n    } else {\\n      const candidateOutputVariables = cells ? cells : [...main._scope.keys()];\\n      for (const cell of candidateOutputVariables) {\\n        if (cell.slice(0, 7) === 'viewof ') {\\n          outputVariables.add(cell.slice(7));\\n        } else {\\n          outputVariables.add(cell);\\n        }\\n      }\\n    }\\n    main\\n      .variable(observer('observableJupyterWidgetOutputCell'))\\n      .define(\\n        'observableJupyterWidgetOutputCell',\\n        [...outputVariables],\\n        (...args) => {\\n          const output = {};\\n          [...outputVariables].forEach((name, i) => {\\n            output[name] = args[i];\\n          });\\n          return output;\\n        }\\n      );\\n  };\\n\\n  let main;\\n\\n  // TODO wait for this initial inputs message before actually running anything\\n  window.addEventListener('message', (msg) => {\\n    if (msg.data.type === 'inputs' && msg.source === window.parent) {\\n      // only the first time, start things up\\n      if (!main) {\\n        const runtime = new Runtime();\\n        main = runtime.module(newDefine, (name) => {\\n          if (name === 'observableJupyterWidgetOutputCell') {\\n            return new JupyterWidgetOutputObserver();\\n          }\\n          return filter(name) ? inspect() : true;\\n        });\\n      }\\n      window.addEventListener('unload', () => {\\n        main._runtime.dispose();\\n      });\\n\\n      const inputs = msg.data.inputs;\\n      for (let name of Object.keys(inputs)) {\\n        try {\\n          //console.log('redefining', name, 'to', inputs[name]);\\n          main.redefine(name, inputs[name]);\\n        } catch (e) {\\n          if (e.message.endsWith(name + ' is not defined')) {\\n            console.log(\\n              'Send value to Observable that does not exist: ' + name\\n            );\\n            console.log(e);\\n            // TODO get this error into Python code? How do widget Python exceptions propagate?\\n          } else {\\n            throw e;\\n          }\\n        }\\n      }\\n    }\\n  });\\n\\n  // iframe is ready to start receiving 'inputs' messages\\n  window.parent.postMessage({ type: 'ready' }, '*');\\n  return main;\\n};\\n\";","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./widget.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\n// Entry point for the notebook bundle containing custom model definitions.\n//\n// Setup notebook base URL\n//\n// Some static assets may be required by the custom widget javascript. The base\n// url for the notebook is not known at build time and is therefore computed\n// dynamically.\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n(window as any).__webpack_public_path__ =\n  document.querySelector('body')!.getAttribute('data-base-url') +\n  'nbextensions/observable_jupyter_widget';\n\nexport * from './index';\n","// Copyright (c) Thomas Ballinger\n// Distributed under the terms of the Modified BSD License.\n\nexport * from './version';\nexport * from './widget';\n","export const logo =\n  '<svg role=\"img\" viewBox=\"0 0 25 28\" width=\"25\" height=\"28\" aria-label=\"Observable\" fill=\"currentColor\" class=\"near-black\" style=\"width: 18px;\"><path d=\"M12.5 22.6667C11.3458 22.6667 10.3458 22.4153 9.5 21.9127C8.65721 21.412 7.98339 20.7027 7.55521 19.8654C7.09997 18.9942 6.76672 18.0729 6.56354 17.1239C6.34796 16.0947 6.24294 15.0483 6.25 14C6.25 13.1699 6.30417 12.3764 6.41354 11.6176C6.52188 10.8598 6.72292 10.0894 7.01563 9.30748C7.30833 8.52555 7.68542 7.84763 8.14479 7.27274C8.62304 6.68378 9.24141 6.20438 9.95208 5.87163C10.6979 5.51244 11.5458 5.33333 12.5 5.33333C13.6542 5.33333 14.6542 5.58467 15.5 6.08733C16.3428 6.588 17.0166 7.29733 17.4448 8.13459C17.8969 8.99644 18.2271 9.9103 18.4365 10.8761C18.6448 11.841 18.75 12.883 18.75 14C18.75 14.8301 18.6958 15.6236 18.5865 16.3824C18.4699 17.1702 18.2639 17.9446 17.9719 18.6925C17.6698 19.4744 17.2948 20.1524 16.8427 20.7273C16.3906 21.3021 15.7927 21.7692 15.0479 22.1284C14.3031 22.4876 13.4542 22.6667 12.5 22.6667ZM14.7063 16.2945C15.304 15.6944 15.6365 14.864 15.625 14C15.625 13.1073 15.326 12.3425 14.7292 11.7055C14.1313 11.0685 13.3885 10.75 12.5 10.75C11.6115 10.75 10.8688 11.0685 10.2708 11.7055C9.68532 12.3123 9.36198 13.1405 9.375 14C9.375 14.8927 9.67396 15.6575 10.2708 16.2945C10.8688 16.9315 11.6115 17.25 12.5 17.25C13.3885 17.25 14.124 16.9315 14.7063 16.2945ZM12.5 27C19.4031 27 25 21.1792 25 14C25 6.82075 19.4031 1 12.5 1C5.59687 1 0 6.82075 0 14C0 21.1792 5.59687 27 12.5 27Z\" fill=\"currentColor\"></path></svg>';\n","// Copyright (c) Thomas Ballinger\n// Distributed under the terms of the Modified BSD License.\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst data = require('../package.json');\n\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexport const MODULE_VERSION = data.version;\n\n/*\n * The current package name.\n */\nexport const MODULE_NAME = data.name;\n","// Copyright (c) Thomas Ballinger\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  DOMWidgetModel,\n  DOMWidgetView,\n  ISerializers,\n} from '@jupyter-widgets/base';\n\nimport { MODULE_NAME, MODULE_VERSION } from './version';\nimport { listenToSizeAndValuesAndReady, sendInputs } from './wrapper_code';\nimport { logo } from './observable_logo';\n\n// ../src/iframe_code.js because path is relative to lib\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore // some webpack import syntax doesn't work with TypeScript?\nimport iframe_bundle_src from '!!raw-loader!../src/iframe_code.js';\nimport '../css/widget.css';\nexport class ObservableWidgetModel extends DOMWidgetModel {\n  defaults(): any {\n    return {\n      ...super.defaults(),\n      _model_name: ObservableWidgetModel.model_name,\n      _model_module: ObservableWidgetModel.model_module,\n      _model_module_version: ObservableWidgetModel.model_module_version,\n      _view_name: ObservableWidgetModel.view_name,\n      _view_module: ObservableWidgetModel.view_module,\n      _view_module_version: ObservableWidgetModel.view_module_version,\n      value: undefined,\n      slug: '',\n      cells: undefined,\n      inputs: undefined,\n      outputs: undefined,\n    };\n  }\n\n  static serializers: ISerializers = {\n    ...DOMWidgetModel.serializers,\n  };\n\n  static model_name = 'ObservableWidgetModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n  static view_name = 'ObservableWidgetView';\n  static view_module = MODULE_NAME;\n  static view_module_version = MODULE_VERSION;\n}\n\nexport class ObservableWidgetView extends DOMWidgetView {\n  outputEl?: HTMLElement; // TODO remove this, it's just for debugging\n  iframe: HTMLIFrameElement;\n  queuedInputs: Record<string, any>[] = [];\n\n  // ugly hack until I figure out how to add code to the constructor\n  pAndR = (function promiseAndResolve(): [Promise<void>, () => void] {\n    let resolve: () => void;\n    const p = new Promise<void>((r) => {\n      resolve = r;\n    });\n    return [p, resolve!];\n  })();\n  iframeReadyForInputs: Promise<void> = this.pAndR[0];\n  setIframeReadyForInputs: () => void = this.pAndR[1];\n\n  render(): void {\n    this.el.classList.add('custom-widget');\n\n    const slug = this.model.get('slug');\n    const cells = this.model.get('cells');\n    const outputs = this.model.get('outputs');\n    const pretty_slug = slug.startsWith('d/') ? 'embedded notebook' : slug;\n\n    // TODO make Observable logo optional\n\n    // TODO is this style helpful? I figured it was for aligning the logo\n    //<div style=\"text-align: right; position: relative\">\n    const logoHTML = `<a class=\"observable-link\" href=\"https://observablehq.com/${slug}\" target=\"_blank\" style=\"text-decoration: none; color: inherit;\">\n    <div class=\"observable-logo\" style=\"display: flex; align-items: center; justify-content: flex-end;\">\n    <span>Edit ${pretty_slug} on Observable</span>\n    ${logo}\n    </div>\n    </a>`;\n\n    this.el.innerHTML = `\n    <div>\n    ${logoHTML}\n    <iframe sandbox=\"allow-scripts\" style=\"overflow: auto; min-width: 100%; width: 0px;\" frameBorder=\"0\"></iframe>\n    <div class=\"value\">output not available yet...</div>`;\n\n    this.el.querySelector('iframe')!.srcdoc = get_srcdoc(slug, cells, outputs);\n    this.outputEl = this.el.querySelector('.value') as HTMLElement;\n    this.iframe = this.el.querySelector('iframe') as HTMLIFrameElement;\n\n    listenToSizeAndValuesAndReady(\n      this.iframe,\n      this.onPublishValues,\n      this.setIframeReadyForInputs\n    );\n    this.onInputs();\n    this.model.on('change:inputs', this.onInputs, this);\n  }\n\n  onInputs = async (): Promise<void> => {\n    const inputs: Record<string, any> = { ...this.model.get('inputs') };\n    for (const name of Object.keys(inputs)) {\n      // nonce, or some other value that is not a valid cell name on purpose\n      if (name.startsWith('-invalid-cell-name')) {\n        delete inputs[name];\n      }\n    }\n    this.queuedInputs.push(inputs);\n    await this.iframeReadyForInputs;\n    // A lazy way to queue up inputs\n    let inputsToSend;\n    while ((inputsToSend = this.queuedInputs.shift())) {\n      sendInputs(this.iframe, inputsToSend);\n    }\n  };\n\n  onPublishValues = (values: Record<string, any>): void => {\n    console.log('publishing values:', values);\n    if (this.outputEl) {\n      this.outputEl.innerHTML =\n        '<span title=\"' +\n        JSON.stringify(values, null, 2).replace(/\"/g, \"'\") +\n        '\">hover to preview widget.value</span>';\n    }\n    this.model.set('value', values);\n    this.touch();\n  };\n}\n\nfunction get_srcdoc(slug: string, cells?: string[], outputs?: string[]) {\n  return `<!DOCTYPE html>\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/@observablehq/inspector@3/dist/inspector.css\">\n<style>\nbody {\n  margin: 0;\n}\n</style>\n<div style=\"overflow: auto;\"></div>\n<script type=\"module\">\n${iframe_bundle_src}\n\nconst slug = '${slug}';\nconst into = document.getElementsByTagName('div')[0];\nconst cells = ${cells ? JSON.stringify(cells) : 'undefined'};\nconst outputs = ${outputs ? JSON.stringify(outputs) : 'undefined'}\nembed(slug, into, cells, outputs);\nmonitor()\n// TODO how to clean up monitor or a window event listener when this cell gets rerun?\n</script>\n`;\n}\n","function getFrameByEvent(event: MessageEvent) {\n  return [...document.getElementsByTagName('iframe')].filter((iframe) => {\n    return iframe.contentWindow === event.source;\n  })[0];\n}\n\n// Each embed gets its own event listener.\nexport function listenToSizeAndValuesAndReady(\n  iframe: HTMLIFrameElement,\n  onValues: (values: any) => void,\n  onReady: () => void\n): void {\n  function onMessage(msg: MessageEvent) {\n    if (!document.body.contains(iframe)) {\n      // iframe is gone\n      removeEventListener('message', onMessage);\n    }\n    const senderIframe = getFrameByEvent(msg);\n    if (msg.data.type === 'iframeSize' && senderIframe === iframe) {\n      iframe.height = msg.data.height;\n    } else if (msg.data.type === 'outputs' && senderIframe === iframe) {\n      onValues(msg.data.outputs);\n    } else if (msg.data.type === 'ready' && senderIframe === iframe) {\n      onReady();\n    }\n  }\n\n  window.addEventListener('message', onMessage);\n}\n\nexport function sendInputs(\n  iframe: HTMLIFrameElement,\n  inputs: Record<string, any>\n): void {\n  // TODO error handing when these cannot be serialized!\n  iframe.contentWindow!.postMessage(\n    {\n      type: 'inputs',\n      inputs,\n    },\n    '*'\n  );\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__jupyter_widgets_base__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/extension.ts\");\n",""],"names":[],"sourceRoot":""}