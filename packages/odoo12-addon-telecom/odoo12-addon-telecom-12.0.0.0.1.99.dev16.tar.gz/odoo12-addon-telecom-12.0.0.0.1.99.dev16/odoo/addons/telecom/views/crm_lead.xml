<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
  <data>
    <record id="view_tree_lead_telecom" model="ir.ui.view">
      <field name="model">crm.lead</field>
      <field name="name">crm.lead.tree.telecom</field>
      <field name="arch" type="xml">
        <tree>
          <field name="is_telecom" invisible="1"/>
          <field name="stage_id"/>
          <field name="vat"/>
          <field name="email_from"/>
          <field name="partner_id"/>
          <field name="product_id"/>
        </tree>
      </field>
		</record>
    <record id="view_form_lead_telecom" model="ir.ui.view">
      <field name="model">crm.lead</field>
      <field name="name">crm.lead.form.telecom</field>
      <field name="arch" type="xml">
        <form string="Opportunities" class="o_opportunity_form">
          <header>
            <button name="action_set_won" string="Mark Won" type="object" class="oe_highlight" attrs="{'invisible': ['|', ('active','=',False), ('probability', '=', 100)]}"/>
            <button name="151" string="Mark Lost" type="action" class="oe_highlight" context="{'default_lead_id': active_id}" attrs="{'invisible': [('active', '=', False),('probability', '&lt;', 100)]}"/>
            <button name="toggle_active" string="Restore" type="object" attrs="{'invisible': ['|', ('probability', '&gt;', 0), ('active', '=', True)]}"/>
            <field name="stage_id"/>
          </header>
          <field name="is_telecom" invisible="1"/>
          <field name="active" invisible="1"/>
          <field name="probability" invisible="1"/>
          <field name="team_id" invisible="1"/>
          <group name="Customer" attrs="{'invisible': [('partner_id', '!=', None)]}">
            <field name="partner_id"/>
          </group>
          <group name="Customer Data" attrs="{'invisible': [('partner_id', '=', None)]}">
            <field name="vat"/>
            <field name="email_from"/>
            <field name="language"/>
            <field name="iban"/>
            <field name="policy_accepted"/>
          </group>
          <group name="Service">
            <field name="product_id"/>
          </group>
          <group name="Others">
            <field name="description"/>
          </group>
        </form>
      </field>
		</record>

		<act_window id="action_crm_lead_telecom" name="Telecom CRMLeads"
			res_model="crm.lead" view_mode="tree,form"
			domain="[('is_telecom','=',True)]"
      context="{
        'default_is_telecom': True,
        'default_type': 'opportunity',
        'default_name': 'opportunity'
      }"
			/>

		<record model="ir.actions.act_window.view" id="action_crm_lead_telecom_tree">
			<field name="sequence">0</field>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="view_tree_lead_telecom" />
			<field name="act_window_id" ref="action_crm_lead_telecom" />
		</record>
		<record model="ir.actions.act_window.view" id="action_crm_lead_telecom_form">
			<field name="sequence">1</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="view_form_lead_telecom" />
			<field name="act_window_id" ref="action_crm_lead_telecom" />
		</record>

  </data>
</odoo>
