import{_ as P,A as p,E as w}from"./index.f94ea891.js";import{e as q,M as C,f as D,s as t,ai as j,D as A,H as S,j as V,r as h,y as E,o as F,c as N,d as o,a as b,u as _,A as y,t as T,n as z,q as x,p as M,b as H}from"./vendor.69dad681.js";const U=a=>(M("data-v-4088a8c8"),a=a(),H(),a),$={class:"text-truncate"},G=x(" Flow Version: "),J={class:"font-weight-semibold"},K={class:"copy-link ml-1"},L=U(()=>o("i",{class:"pi pi-link pi-xs"},null,-1)),O=x(" Copy Run ID "),Q=[L,O],W=q({async setup(a){let r,f;const s=C(),B=D(null),u=t(()=>s==null?void 0:s.params.id),g=t(()=>({id:u.value})),l=([r,f]=j(()=>p.query({endpoint:w.flow_run,body:g,options:{pollInterval:5e3}}).fetch()),r=await r,f(),r),R=t(()=>({id:l.response.value.flow_id})),m={flow:p.query({endpoint:w.flow,body:R})},k=t(()=>{var e;return((e=m.flow.response)==null?void 0:e.value)||{}}),v=t(()=>{var e;return((e=l.response)==null?void 0:e.value)||{}}),I=t(()=>{var c,n;const e=[{text:(c=k.value)==null?void 0:c.name},{text:(n=v.value)==null?void 0:n.name,to:""}],d=s.fullPath.includes("/timeline"),i=s.fullPath.includes("/radar");return(d||i)&&(e[1].to=`/flow-run/${u.value}`,d&&e.push({text:"Timeline"}),i&&e.push({text:"Radar"})),e});return A(()=>{l.stopPolling(),p.queries.delete(l.id)}),S(()=>{var e;B.value=((e=s.hash)==null?void 0:e.substr(1))||"task_runs"}),V(u,()=>{m.flow.fetch()}),(e,d)=>{const i=h("bread-crumbs"),c=h("router-view"),n=E("breakpoints");return F(),N("div",null,[o("div",{class:z(["d-flex align-center justify-space-between mb-2 py-1 position-relative z-1",{blur:_(s).fullPath.includes("/radar")}])},[b(i,{class:"flex-grow-1",crumbs:_(I),icon:"pi-flow-run"},null,8,["crumbs"]),y(o("div",$,[o("span",null,[G,o("span",J,T(_(v).flow_version),1)]),y(o("a",K,Q,512),[[n,"md"]])],512),[[n,"sm"]])],2),b(c)])}}});var Z=P(W,[["__scopeId","data-v-4088a8c8"]]);export{Z as default};
